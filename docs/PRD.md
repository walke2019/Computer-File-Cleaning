# 产品需求文档 (PRD): AI智能文件清理工具 (Windows版)

**版本:** 0.1 (Draft)  
**日期:** 2026-01-18  
**平台:** Windows  
**工作目录:** D:\Tools\windows-cleaner  

---

## 1. 产品愿景与目标 (Product Vision & Goals)

### 1.1 问题陈述 (Problem Statement)
在Windows生态中，用户长期面临磁盘空间不足、文件管理混乱、垃圾文件难以识别的问题。传统清理工具（如CCleaner、系统自带工具）往往基于固定的规则（后缀名、临时目录），缺乏对用户个人习惯的理解，容易产生“误删焦虑”，或者清理不够彻底，且缺乏智能分类整理能力。

### 1.2 产品愿景 (Product Vision)
打造一款**“懂你的”AI智能文件管家**。它不仅是清理垃圾，更是帮助用户重塑数字生活秩序。通过AI技术，实现从“被动清理”到“主动维护”的转变，在确保数据绝对安全的前提下，最大化释放存储空间，提升系统效率。

### 1.3 成功指标 (Success Metrics / KPIs)
*   **清理效率**: 平均每次清理释放空间大小 > 2GB。
*   **误删率**: 0% (关键核心指标)。
*   **用户留存**: 30天留存率 > 40%。
*   **AI采纳率**: 用户接受AI推荐清理方案的比例 > 85%。
*   **扫描速度**: 1TB硬盘全盘智能扫描时间 < 5分钟。

---

## 2. 用户画像 (User Personas)

### 2.1 目标用户
*   **休闲用户 (Casual Users)**: 电脑小白，不懂技术，只希望电脑不卡顿。
    *   *痛点*: 不敢乱删文件，怕删坏系统。
*   **高级/极客用户 (Power Users)**: 程序员、设计师，产生大量临时文件、素材、代码缓存。
    *   *痛点*: 文件杂乱，重复文件多，版本管理混乱，不仅需要删除，更需要整理。
*   **企业用户 (Enterprise)**: 需要批量管理办公电脑，注重隐私安全。
    *   *痛点*: 数据泄露风险，合规性清理。

### 2.2 用户故事 (User Stories)
*   作为一名**设计师**，我希望工具能识别出那10个GB的“相似但不完全相同”的图片草稿，并帮我保留最好的版本，归档其他的。
*   作为一名**小白用户**，我希望有一个“一键优化”按钮，点一下就能解决C盘变红的问题，而不需要我做任何选择。
*   作为一名**开发者**，我希望它能自动识别 `node_modules`、`.git` 等开发垃圾，并根据项目活跃度建议我是否删除。

---

## 3. 功能优先级 (Feature Prioritization)

| 优先级 | 功能模块 | 功能描述 | 价值 (Impact) | 成本 (Effort) |
| :--- | :--- | :--- | :--- | :--- |
| **MVP (必选)** | **基础扫描与清理** | 扫描系统临时文件、浏览器缓存、回收站；一键清理。 | High | Low |
| **MVP (必选)** | **大文件分析** | 可视化展示占用空间最大的TOP 50文件。 | High | Low |
| **MVP (必选)** | **安全撤销** | 提供“回收站”机制，清理的文件暂存，支持一键还原。 | Critical | Medium |
| **v1.0 (应有)** | **AI智能分类** | 自动识别文件类型（文档、图片、安装包），而非仅靠后缀名。 | High | Medium |
| **v1.0 (应有)** | **重复文件检测** | 基于哈希的精确重复检测。 | Medium | Medium |
| **v1.0 (应有)** | **微信/QQ专清** | 针对国内用户痛点，深度解析聊天软件缓存目录。 | High | High |
| **Future (可选)** | **相似图片/文件分析** | 使用CV模型识别相似图片；使用NLP模型识别相似文档。 | Medium | Very High |
| **Future (可选)** | **使用习惯预测** | 学习用户打开文件的频率，建议归档冷数据。 | Low | High |

---

## 4. AI 核心特性 (AI-Specific Features)

### 4.1 智能重要性评分 (Safe File Importance Scoring)
*   建立模型对文件进行“重要性打分” (0-100)。
*   **特征**: 文件创建时间、最后访问时间、文件路径深度、文件名语义（如含 "backup", "重要"）、文件类型。
*   **策略**: 低分文件自动推荐删除，高分文件仅在用户明确确认时操作。

### 4.2 语义化文件归类 (Smart Categorization)
*   超越扩展名，通过内容摘要和元数据识别文件用途。
*   例如：将分散在桌面的 `.docx`, `.pdf` 自动识别为“工作合同”、“发票”、“电子书”等类别。

### 4.3 相似度检测 (Similarity Scoring)
*   **图片**: 使用轻量级CNN模型提取特征向量，计算余弦相似度，找出连拍、截图、压缩后的重复图。
*   **文档**: 基于文本摘要（TF-IDF/Embeddings）检测内容高度重合的文档。

### 4.4 预测性清理 (Predictive Cleanup)
*   监测系统磁盘趋势，在C盘爆红前3天发出预警，并生成预处理方案。

---

## 5. 用户体验要求 (UX Requirements)

### 5.1 界面设计原则
*   **极简主义**: 首页仅展示核心状态（健康度/可用空间）和“一键智能清理”按钮。
*   **透明度**: AI做出的每一个删除决定，用户都必须能通过“为什么选它？”查看到解释（如：“该文件已3年未打开，且存在云端备份”）。
*   **情感化交互**: 清理完成后给予正向反馈（如：“您的电脑现在快得像火箭！”）。

### 5.2 关键用户流程 (Flow)
1.  **启动**: 快速冷启动 -> 后台静默预扫描。
2.  **交互**: 展示“待优化项目” -> AI 解释风险等级 (安全/需确认) -> 用户授权。
3.  **执行**: 快速删除 -> 展示释放空间动画。
4.  **反馈**: 提供撤销入口。

---

## 6. 非功能性需求 (Non-Functional Requirements)

### 6.1 性能
*   **资源占用**: 后台驻留内存 < 100MB，CPU占用 < 5% (空闲时)。
*   **模型推断**: AI评分推断时间 < 10ms/文件（本地小模型）。

### 6.2 安全与隐私
*   **本地化运行**: 所有AI分析（如图片识别、文本分析）必须**完全在本地运行**，严禁上传用户文件内容到云端。
*   **沙箱机制**: 清理操作在模拟环境中预演，确保不破坏系统依赖。

---

## 7. 风险评估 (Risk Assessment)

### 7.1 误删风险 (Data Loss)
*   **风险**: AI 错误判断用户重要文件为垃圾文件。
*   **缓解**: 
    1. 引入“隔离区”机制（类似杀毒软件），删除文件保留7-30天。
    2. 建立白名单数据库（系统文件、常用软件配置）。
    3. 默认策略为保守型（False Negative > False Positive）。

### 7.2 信任危机
*   **风险**: 用户不相信AI的判断，认为在窃取隐私。
*   **缓解**: 代码开源（核心逻辑），提供详细的扫描日志，界面显著位置标注“本地运行，不联网上传”。

### 7.3 技术瓶颈
*   **风险**: Python/AI 模型在Windows客户端打包体积过大，启动慢。
*   **缓解**: 使用轻量化模型 (如 MobileNet, TinyBERT)，考虑 ONNX Runtime 加速，核心IO逻辑使用 Rust/C++ 编写，UI使用 Electron 或 Flutter。
